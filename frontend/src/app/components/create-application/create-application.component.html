<div class="container py-5">

    <div class="row">
        <div class="col-md-12 col-md-offset-3">
            <form [formGroup]="personalDetails" id="msform">
                <!-- progressbar -->
                <ul id="progressbar">
                    <li [ngClass]="step>=1 ? 'active ' : 'inactive'">Personal Details</li>
                    <li [ngClass]="step>=2 ? 'active' : 'inactive'">Degree Details</li>
                    <li [ngClass]="step>=3 ? 'active' : 'inactive'">Address Details</li>
                    <li [ngClass]="step>=4 ? 'active' : 'inactive'">Account Setup</li>
                    <li [ngClass]="step>=5 ? 'active' : 'inactive'">Educational Details</li>
                </ul>
                <!-- fieldsets -->
                <fieldset *ngIf="step == 1">
                    <h2 class="fs-title">Personal Details</h2>
                    <input type="text" formControlName="name"
                        [ngClass]="{ 'is-invalid': personal_step && personal.name.errors }" placeholder="Full Name" />
                    <div *ngIf="personal_step && personalDetails.controls.name.errors">
                        <div *ngIf="personal.name.errors?.required">Name is required</div>
                    </div>
                    <input type="text" formControlName="email" name="email" placeholder="Email" />
                    <div *ngIf="personal_step && personalDetails.controls.email.errors">
                        <div *ngIf="personal.email.errors?.required">Email is required</div>
                    </div>
                    <input type="text" formControlName="adress" name="adress" placeholder="Adress" />
                    <div *ngIf="personal_step && personalDetails.controls.adress.errors">
                        <div *ngIf="personal.adress.errors?.required">Adress is required</div>
                    </div>
                    <input type="text" formControlName="phone" name="phone" placeholder="Phone" />
                    <div *ngIf="personal_step && personalDetails.controls.phone.errors">
                        <div *ngIf="personal.phone.errors?.required">Phone is required</div>
                    </div>
                    <input type="text" formControlName="country" name="country" placeholder="Country" />
                    <div *ngIf="personal_step && personalDetails.controls.country.errors">
                        <div *ngIf="personal.country.errors?.required">Country is required</div>
                    </div>
                    <br>
                    <div class="label">
                    <label for="Courses">Choose a course:</label>
                    <select name="courses" id="courses">
                    <option value="A">A</option>
                    <option value="b">b</option>
                    <option value="c">c</option>
                    <option value="d">d</option>
                    </select>
                    <br><br>
                </div>
                    <div class="checkbox">
                    <input type="checkbox" formControlName="tc" name="tc">TC
                    <input type="checkbox" formControlName="passport" name="passport">Passport
                </div>
                    <input type="text" formControlName="id" name="id" placeholder="TC or passport" />
                    <div *ngIf="personal_step && personalDetails.controls.id.errors">
                        <div *ngIf="personal.id.errors?.required">TC or passport is required</div>
                    </div>
                    <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="degreeDetails" id="msform">
                <fieldset *ngIf="step == 2">
                    <h2 class="fs-title">Degree Details</h2>
                    <div class="size">
                    <img class="images" src="assets/images/PhD.jpg">
                    <input type="checkbox" formControlName="degreeName"/>Phd
                </div>
                    <div *ngIf="degree_step && degreeDetails.controls.degreeName1.errors">
                        <div *ngIf="degree.degreeName.errors?.required">Degree is required</div>
                    </div>
                    <div class="size">
                    <img class="images" src="assets/images/Master.jpg">
                    <input type="checkbox" formControlName="degreeName"/>Master
                </div>
                    <div *ngIf="degree_step && degreeDetails.controls.degreeName2.errors">
                        <div *ngIf="degree.degreeName.errors?.required">Degree is required</div>
                    </div>
                    <div class="size">
                    <img class="images" src="assets/images/Bachelor.jpg">
                    <input type="checkbox" formControlName="degreeName"/>Bachelor
                </div>
                    <div *ngIf="degree_step && degreeDetails.controls.degreeName3.errors">
                        <div *ngIf="degree.degreeName.errors?.required">Degree is required</div>
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="previous action-button-previous"
                        value="Previous" />
                    <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="addressDetails" id="msform">
                <fieldset *ngIf="step == 3">
                    <h2 class="fs-title">Address Details</h2>
                    <h4>Are you a Blue Card Owner</h4>
                    <input type="radio">Yes
                    <input type="radio">No
                    <h4>Do you have Dual Citizenship</h4>
                    <input type="radio">Yes
                    <input type="radio">No
                    <input type="text" formControlName="city" placeholder="City" />
                    <div *ngIf="address_step && addressDetails.controls.city.errors">
                        <div *ngIf="address.city.errors?.required">City is required</div>
                    </div>
                    <textarea rows="5" cols="5" formControlName="address" placeholder="address"></textarea>
                    <div *ngIf="address_step && addressDetails.controls.address.errors">
                        <div *ngIf="address.address.errors?.required">Address is required</div>
                    </div>
                    <input type="text" formControlName="pincode" placeholder="Pincode" />
                    <div *ngIf="address_step && addressDetails.controls.pincode.errors">
                        <div *ngIf="address.pincode.errors?.required">Pincode is required</div>
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="previous action-button-previous"
                        value="Previous" />
                    <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="addressDetails" id="msform">
                <fieldset *ngIf="step == 4">
                    <div class="row">
                        <div class="col-8">
                            <label class="btn-default">
                                <input type="file" (change)="selectFile($event)" />
                            </label>
                        </div>
                        <div class="col-4">
                            <button class="btn-success" [disabled]="!selectedFiles" (click)="upload()">
                                Upload
                            </button>
                        </div>
                    </div>
                    <div *ngIf="currentFile" class="progress my-3">
                        <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                            attr.aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100"
                            [ngStyle]="{ width: progress + '%' }">
                            {{ progress }}%
                        </div>
                    </div>
                    <div *ngIf="message" class="alert alert-secondary" role="alert">{{ message }}</div>
                    <div class="card mt-3">
                        <div class="card-header">List of Files</div>
                        <ul class="list-group list-group-flush" *ngFor="let file of fileInfos | async">
                            <li class="list-group-item">
                                <a class="file-name" href="{{ file.url }}">{{ file.name }}</a>
                            </li>
                            <button class="btn-success" (click)="deleteFile(file.all_url)">Delete</button>
                        </ul>
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="previous action-button-previous"
                        value="Previous" />
                    <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
                </fieldset>
            </form>
            <form [formGroup]="educationalDetails" id="msform">
                <fieldset *ngIf="step == 5">
                    <h2 class="fs-title">Educational Details</h2>
                    <input type="text" formControlName="highest_qualification" placeholder="Highest Qualification" />
                    <div *ngIf="education_step && educationalDetails.controls.highest_qualification.errors">
                        <div *ngIf="education.highest_qualification.errors?.required">Highest qualification is required
                        </div>
                    </div>
                    <input type="text" formControlName="university" placeholder="University" />
                    <div *ngIf="education_step && educationalDetails.controls.university.errors">
                        <div *ngIf="education.university.errors?.required">University is required</div>
                    </div>
                    <input type="text" formControlName="total_marks" placeholder="Total Marks" />
                    <div *ngIf="education_step && educationalDetails.controls.total_marks.errors">
                        <div *ngIf="education.total_marks.errors?.required">Total marks is required</div>
                    </div>
                    <input (click)="previous()" type="button" name="previous" class="previous action-button-previous"
                        value="Previous" />
                    <input (click)="submit()" type="submit" name="submit" class="submit action-button" value="Submit" />
                </fieldset>
            </form>
        </div>
    </div>
</div>